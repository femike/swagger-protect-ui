import{g as e,u as t,h as o,i as l,r as s,o as a,c as n,f as i,w as r}from"./vendor.4eb4facd.js";import{i as c}from"./index.723e393e.js";var m="/swagger-protect-ui/assets/logo.d45a8745.svg";const u="M0 0h24v24H0z@@fill:none;&&M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z";var d=e({name:"LoginForm",props:{backUrl:{type:String,required:!0}},setup:e=>{const s=t(),{t:a}=o(),n=c(a);if(!s.cookies.has("allow_cookie")){const e=s.notify({message:n("notifications.allow_cookie"),color:"green",multiLine:!0,timeout:0,position:"bottom",avatar:m,actions:[{label:n("buttons.accept"),color:"yellow",handler:()=>{s.cookies.set("allow_cookie","1",{expires:"1y",sameSite:"Lax"}),e()}}]})}const i=l(null),r=l(null),d=l(!1),p={Accept:"*/*","User-Agent":"Swagger Protect Client","Content-Type":"application/json"};return{t:n,imgLogo:m,matHome:"M0 0h24v24H0z@@fill:none;&&M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z",matWarning:u,matAccountCircle:"M0 0h24v24H0z@@fill:none;&&M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z",matLock:"M0 0h24v24H0z@@fill:none;&&M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z",matVisibility:"M0 0h24v24H0z@@fill:none;&&M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z",matVisibilityOff:"M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z@@fill:none;&&M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z",login:i,password:r,visiblePwd:d,productName:"Swagger Protect",onSubmit(){fetch("/",{method:"POST",body:`{"login": "${i.value}", "password": "${r.value}"}`,headers:p}).then((t=>{const{ok:o}=t;o?t.json().then((({token:t})=>{t?(s.cookies.set("swagger_token",t,{path:"/",sameSite:"Lax"}),setTimeout((()=>location.replace(e.backUrl)))):s.notify({type:"negative",icon:u,message:n("errors.server_return_empty_result")})})).catch((e=>{s.notify({type:"negative",icon:u,message:e})})):(console.error(t),s.notify({type:"negative",icon:u,message:`${t.status}: ${t.statusText}`}))})).catch((e=>{console.error(e),s.notify({type:"negative",icon:u,message:`${e.status}: ${e.statusText}`})}))},empty:e=>e&&e.length>0||n("errors.must_be_not_empty"),home:()=>location.replace("/")}}});const p={class:"column q-pa-lg"},g={class:"row"},h={class:"row"},v=i("div",{class:"col-10"},null,-1),f={class:"col"},b={class:"row items-center"},w=i("br",null,null,-1);d.render=function(e,t,o,l,c,m){const u=s("q-btn"),d=s("q-card-section"),y=s("q-img"),z=s("q-separator"),k=s("q-icon"),_=s("q-input"),q=s("q-form"),M=s("q-card");return a(),n("div",p,[i("div",g,[i(M,{class:"shadow-24",style:{width:"300px",height:"485px"}},{default:r((()=>[i(d,{class:"bg-red-8 q-pa-sm"},{default:r((()=>[i("div",h,[v,i("div",f,[i(u,{round:"",flat:"",title:e.t("home"),color:"white",onClick:e.home,icon:e.matHome},null,8,["title","onClick","icon"])])])])),_:1}),i(d,null,{default:r((()=>[i("div",b,[i(y,{alt:"swagger protect",fit:"contain",src:e.imgLogo,style:{"max-width":"268px",height:"119px"},class:"q-mb-sm"},null,8,["src"])]),i(z),w,i(q,{onSubmit:e.onSubmit,class:"q-gutter-md"},{default:r((()=>[i(_,{modelValue:e.login,"onUpdate:modelValue":t[1]||(t[1]=t=>e.login=t),autofocus:"",filled:"",type:"text",label:e.t("inputs.login")+"*","no-error-icon":"","lazy-rules":"",rules:[e.empty],autocomplete:"login"},{prepend:r((()=>[i(k,{name:e.matAccountCircle},null,8,["name"])])),_:1},8,["modelValue","label","rules"]),i(_,{filled:"",type:e.visiblePwd?"text":"password",modelValue:e.password,"onUpdate:modelValue":t[3]||(t[3]=t=>e.password=t),label:e.t("inputs.password")+"*","no-error-icon":"","lazy-rules":"",autocomplete:"current-password",rules:[e.empty]},{prepend:r((()=>[i(k,{name:e.matLock},null,8,["name"])])),append:r((()=>[i(k,{name:e.visiblePwd?e.matVisibility:e.matVisibilityOff,class:"cursor-pointer",onClick:t[2]||(t[2]=t=>e.visiblePwd=!e.visiblePwd)},null,8,["name"])])),_:1},8,["type","modelValue","label","rules"]),i(z),i("div",null,[i(u,{label:e.t("buttons.entry"),class:"full-width",type:"submit",color:"green"},null,8,["label"])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])])};const y=e({name:"LoginPage",props:{backUrl:{type:String,required:!0,default:"/"}},components:{LoginForm:d}});y.render=function(e,t,o,l,c,m){const u=s("LoginForm"),d=s("q-page");return a(),n(d,{padding:"",class:"window-height window-width row justify-center items-center",style:{background:"radial-gradient(#2c5451, #2c5454)"}},{default:r((()=>[i(u,{backUrl:e.backUrl},null,8,["backUrl"])])),_:1})};export{y as default};
